{% extends 'server/status/base.twig' %}
{% set active = 'advisor' %}

{% block content %}

  <h2>{% trans 'Advisor system' %}</h2>

  {% if data is not empty %}

    <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#advisorInstructionsModal">
      {{ get_icon('b_help', 'Instructions'|trans) }}
    </button>

    <div class="modal fade" id="advisorInstructionsModal" tabindex="-1" role="dialog" aria-labelledby="advisorInstructionsModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="advisorInstructionsModalLabel">{% trans 'Advisor system' %}</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="{% trans 'Close' %}">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>
              {%- trans -%}
                The Advisor system can provide recommendations on server variables by analyzing the server status variables.
              {%- endtrans -%}
            </p>
            <p>
              {%- trans -%}
                Do note however that this system provides recommendations based on simple calculations and by rule of thumb which may not necessarily apply to your system.
              {%- endtrans -%}
            </p>
            <p>
              {%- trans -%}
                Prior to changing any of the configuration, be sure to know what you are changing (by reading the documentation) and how to undo the change. Wrong tuning can have a very negative effect on performance.
              {%- endtrans -%}
            </p>
            <p>
              {%- trans -%}
                The best way to tune your system would be to change only one setting at a time, observe or benchmark your database, and undo the change if there was no clearly measurable improvement.
              {%- endtrans -%}
            </p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">{% trans 'Close' %}</button>
          </div>
        </div>
      </div>
    </div>

    <div id="statustabs_advisor" class="row"></div>

    <div id="advisorData" class="hide">{{ data }}</div>
  {% else %}
    {{ 'Not enough privilege to view the advisor.'|trans|error }}
  {% endif %}

{% endblock %}
